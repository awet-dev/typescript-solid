{"version":3,"sources":["old.js"],"names":["User","_password","prototype","checkGoogleLogin","token","_googleToken","setGoogleToken","getFacebookLogin","_facebookToken","setFacebookToken","checkPassword","password","resetPassword","prompt","Admin","passwordElement","document","querySelector","typePasswordElement","typeGoogleElement","typeFacebookElement","loginAsAdminElement","resetPasswordElement","addEventListener","event","preventDefault","auth","checked","guest","value","admin","alert","user"],"mappings":"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","file":"old.959634d2.js","sourceRoot":"..","sourcesContent":["var User = /** @class */ (function () {\n    function User() {\n        this._password = 'user';\n    }\n    //Interesting detail here: while I did not define a return type or param type, any deviation from the interface will give you an error.\n    // Test it out by uncommenting the code below.\n    User.prototype.checkGoogleLogin = function (token) {\n        // return \"this will not work\";\n        return (token === this._googleToken);\n    };\n    User.prototype.setGoogleToken = function (token) {\n        this._googleToken = token;\n    };\n    User.prototype.getFacebookLogin = function (token) {\n        return (token === this._facebookToken);\n    };\n    User.prototype.setFacebookToken = function (token) {\n        this._facebookToken = token;\n    };\n    User.prototype.checkPassword = function (password) {\n        return (password === this._password);\n    };\n    User.prototype.resetPassword = function () {\n        this._password = prompt('What is your new password?');\n    };\n    return User;\n}());\n//admin cannot use google or facebook token\nvar Admin = /** @class */ (function () {\n    function Admin() {\n        this._password = 'admin';\n    }\n    Admin.prototype.checkPassword = function (password) {\n        return (password === this._password);\n    };\n    Admin.prototype.resetPassword = function () {\n        this._password = prompt('What is your new password?');\n    };\n    return Admin;\n}());\n// class GoogleBot implements UserAuth {}\nvar passwordElement = document.querySelector('#password');\nvar typePasswordElement = document.querySelector('#typePassword');\nvar typeGoogleElement = document.querySelector('#typeGoogle');\nvar typeFacebookElement = document.querySelector('#typeFacebook');\nvar loginAsAdminElement = document.querySelector('#loginAsAdmin');\nvar resetPasswordElement = document.querySelector('#resetPassword');\ndocument.querySelector('#login-form').addEventListener('submit', function (event) {\n    event.preventDefault();\n    debugger;\n    var auth = false;\n    if (!loginAsAdminElement.checked) {\n        var guest = new User;\n        guest.setGoogleToken('secret_token_google');\n        guest.setFacebookToken('secret_token_fb');\n        switch (true) {\n            case typePasswordElement.checked:\n                auth = guest.checkPassword(passwordElement.value);\n                break;\n            case typeGoogleElement.checked:\n                auth = guest.checkGoogleLogin('secret_token_google');\n                break;\n            case typeFacebookElement.checked:\n                debugger;\n                auth = guest.getFacebookLogin('secret_token_fb');\n                break;\n        }\n    }\n    else {\n        var admin = new Admin;\n        auth = typePasswordElement.checked ? admin.checkPassword(passwordElement.value) : false;\n    }\n    if (auth) {\n        alert('login success');\n    }\n    else {\n        alert('login failed');\n    }\n});\nresetPasswordElement.addEventListener('click', function (event) {\n    event.preventDefault();\n    var user = loginAsAdminElement.checked ? new Admin() : new User();\n    user.resetPassword();\n});\n"]}